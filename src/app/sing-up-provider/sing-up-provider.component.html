<section>
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <div class="form-area">
          <div class="form-head">
            <h1>Register as Provider</h1>
          </div>
          <div class="form-soc">
            <form [formGroup]="firstFormGroup">
              <br />
              <div class="row">
                <div class="col-lg-6">
                  <div class="form-group">
                    First Name
                    <input
                      type="text"
                      class="form-control"
                      [ngClass]="{
                        'is-invalid':
                          firstFormGroup
                            .get('first_name')
                            .hasError('required') &&
                          firstFormGroup.get('first_name').touched
                      }"
                      formControlName="first_name"
                      required
                    />
                    <div
                      class="invalid-feedback"
                      *ngIf="
                        firstFormGroup.get('first_name').hasError('required') &&
                        firstFormGroup.get('first_name').touched
                      "
                    >
                      Please provide first name.
                    </div>
                  </div>
                </div>
                <div class="col-lg-6">
                  <div class="form-group">
                    Last Name
                    <input
                      type="text"
                      class="form-control"
                      [ngClass]="{
                        'is-invalid':
                          firstFormGroup
                            .get('last_name')
                            .hasError('required') &&
                          firstFormGroup.get('last_name').touched
                      }"
                      formControlName="last_name"
                      required
                    />
                    <div
                      class="invalid-feedback"
                      *ngIf="
                        firstFormGroup.get('last_name').hasError('required') &&
                        firstFormGroup.get('last_name').touched
                      "
                    >
                      Please provide last name.
                    </div>
                  </div>
                </div>
                <div class="col-lg-6">
                  Gender
                  <br />
                  <div
                    class="form-control"
                    [ngClass]="{
                      'is-invalid':
                        firstFormGroup.get('gender').hasError('required') &&
                        firstFormGroup.get('gender').touched
                    }"
                    required
                  >
                    <div class="form-check form-check-inline">
                      <input
                        class="form-check-input"
                        type="radio"
                        formControlName="gender"
                        name="gender"
                        id="male"
                        value="Male"
                      />
                      <label class="form-check-label" for="male">Male</label>
                    </div>
                    <div class="form-check form-check-inline">
                      <input
                        class="form-check-input"
                        type="radio"
                        formControlName="gender"
                        name="gender"
                        id="female"
                        value="Female"
                      />
                      <label class="form-check-label" for="female"
                        >Female</label
                      >
                    </div>
                  </div>
                  <div
                    class="invalid-feedback"
                    *ngIf="
                      firstFormGroup.get('gender').hasError('required') &&
                      firstFormGroup.get('gender').touched
                    "
                  >
                    Please select gender.
                  </div>
                </div>
                <div class="col-lg-6">
                  <div class="form-group">
                    Mobile No
                    <input
                      type="text"
                      class="form-control"
                      [ngClass]="{
                        'is-invalid':
                          (firstFormGroup
                            .get('mobile_number')
                            .hasError('required') ||
                            firstFormGroup
                              .get('mobile_number')
                              .hasError('alreadyExist')) &&
                          firstFormGroup.get('mobile_number').touched
                      }"
                      formControlName="mobile_number"
                      required
                    />
                    <div
                      class="invalid-feedback"
                      *ngIf="
                        firstFormGroup
                          .get('mobile_number')
                          .hasError('required') &&
                        firstFormGroup.get('mobile_number').touched
                      "
                    >
                      Please provide mobile number.
                    </div>
                    <div
                      class="invalid-feedback"
                      *ngIf="
                        firstFormGroup
                          .get('mobile_number')
                          .hasError('alreadyExist') &&
                        firstFormGroup.get('mobile_number').touched
                      "
                    >
                      Mobile number already exists.
                    </div>
                  </div>
                </div>
                <div class="col-lg-6">
                  <div class="form-group">
                    Email
                    <input
                      type="email"
                      class="form-control"
                      [ngClass]="{
                        'is-invalid':
                          (firstFormGroup.get('email').hasError('required') ||
                            firstFormGroup
                              .get('email')
                              .hasError('alreadyExist')) &&
                          firstFormGroup.get('email').touched
                      }"
                      formControlName="email"
                      required
                    />
                    <div
                      class="invalid-feedback"
                      *ngIf="
                        firstFormGroup.get('email').hasError('required') &&
                        firstFormGroup.get('email').touched
                      "
                    >
                      Please provide email.
                    </div>
                    <div
                      class="invalid-feedback"
                      *ngIf="
                        firstFormGroup.get('email').hasError('email') &&
                        firstFormGroup.get('email').touched
                      "
                    >
                      Please provide valid email.
                    </div>
                    <div
                      class="invalid-feedback"
                      *ngIf="
                        firstFormGroup.get('email').hasError('alreadyExist')
                      "
                    >
                      Email already exists.
                    </div>
                  </div>
                </div>
                <div class="col-lg-6">
                  <div class="form-group">
                    Password
                    <input
                      type="password"
                      class="form-control"
                      [ngClass]="{
                        'is-invalid':
                          (firstFormGroup
                            .get('password')
                            .hasError('required') ||
                            firstFormGroup
                              .get('password')
                              .hasError('pattern')) &&
                          firstFormGroup.get('password').touched
                      }"
                      formControlName="password"
                      required
                    />
                    <div
                      class="invalid-feedback"
                      *ngIf="
                        firstFormGroup.get('password').hasError('required') &&
                        firstFormGroup.get('password').touched
                      "
                    >
                      Please provide password.
                    </div>
                    <div
                      class="invalid-feedback"
                      *ngIf="
                        firstFormGroup.get('password').hasError('pattern') &&
                        firstFormGroup.get('password').touched
                      "
                    >
                      Password must contains the following pattern. atleast 1
                      lower case. 1 upper case. 1 digit. and special characted.
                    </div>
                  </div>
                </div>
                <div class="col-lg-6">
                  <!-- <div class="form-group"> -->
                    Country
                    <ng-select
                      formControlName="country"
                      required
                      (ngModelChange)="loadStates()"
                      [ngClass]="{
                        'is-invalid':
                          firstFormGroup.get('country').hasError('required') &&
                          firstFormGroup.get('country').touched
                      }"
                      required
                    >
                      <ng-option
                        *ngFor="let item of countries"
                        value="{{ item.id }}"
                        >{{ item.name }}</ng-option
                      >
                    </ng-select>
                    <div
                      class="invalid-feedback"
                      *ngIf="
                        firstFormGroup.get('country').hasError('required') &&
                        firstFormGroup.get('country').touched
                      "
                    >
                      Please select country.
                    </div>
                  <!-- </div> -->
                </div>
                <div class="col-lg-6">
                  <!-- <div class="form-group"> -->
                    State
                    <ng-select
                      formControlName="state"
                      required
                      (ngModelChange)="loadCities()"
                      [ngClass]="{
                        'is-invalid':
                          firstFormGroup.get('state').hasError('required') &&
                          firstFormGroup.get('state').touched
                      }"
                      required
                    >
                      <ng-option
                        *ngFor="let item of states"
                        value="{{ item.id }}"
                        >{{ item.name }}</ng-option
                      >
                    </ng-select>
                    <div
                      class="invalid-feedback"
                      *ngIf="
                        firstFormGroup.get('state').hasError('required') &&
                        firstFormGroup.get('state').touched
                      "
                    >
                      Please select state.
                    </div>
                  <!-- </div> -->
                </div>
                <div class="col-lg-6">
                  <!-- <div class="form-group"> -->
                    City
                    <ng-select
                      formControlName="city"
                      required
                      [ngClass]="{
                        'is-invalid':
                          firstFormGroup.get('city').hasError('required') &&
                          firstFormGroup.get('city').touched
                      }"
                      required
                    >
                      <ng-option
                        *ngFor="let item of cities"
                        value="{{ item.name }}"
                        >{{ item.name }}</ng-option
                      >
                    </ng-select>
                    <div
                      class="invalid-feedback"
                      *ngIf="
                        firstFormGroup.get('city').hasError('required') &&
                        firstFormGroup.get('city').touched
                      "
                    >
                      Please select city.
                    </div>
                  <!-- </div> -->
                </div>
                <div class="col-lg-6">
                  <!-- <div class="form-group"> -->
                    Skills
                    <ng-select
                      formControlName="skills"
                      required
                      [ngClass]="{
                        'is-invalid':
                          firstFormGroup.get('skills').hasError('required') &&
                          firstFormGroup.get('skills').touched
                      }"
                      [multiple]="true"
                      required
                    >
                      <ng-option
                        *ngFor="let item of serviceTypes"
                        value="{{ item._id }}"
                        >{{ item.name }}</ng-option
                      >
                    </ng-select>
                    <div
                      class="invalid-feedback"
                      *ngIf="
                        firstFormGroup.get('skills').hasError('required') &&
                        firstFormGroup.get('skills').touched
                      "
                    >
                      Please select skills.
                    </div>
                  <!-- </div> -->
                   <br/>
                </div>
                <div class="col-lg-6">
                  <div class="form-group">
                    Zip Code
                    <input
                      type="text"
                      class="form-control"
                      [ngClass]="{
                        'is-invalid':
                          firstFormGroup.get('zip').hasError('required') &&
                          firstFormGroup.get('zip').touched
                      }"
                      formControlName="zip"
                      required
                    />
                    <div
                      class="invalid-feedback"
                      *ngIf="
                        firstFormGroup.get('zip').hasError('required') &&
                        firstFormGroup.get('zip').touched
                      "
                    >
                      Please provide zip code.
                    </div>
                  </div>
                </div>
                <div class="col-lg-6">
                  <div class="form-group">
                    Address
                    <input
                      type="text"
                      class="form-control"
                      [ngClass]="{
                        'is-invalid':
                          firstFormGroup
                            .get('street_address')
                            .hasError('required') &&
                          firstFormGroup.get('street_address').touched
                      }"
                      formControlName="street_address"
                      required
                    />
                    <div
                      class="invalid-feedback"
                      *ngIf="
                        firstFormGroup
                          .get('street_address')
                          .hasError('required') &&
                        firstFormGroup.get('street_address').touched
                      "
                    >
                      Please provide street address.
                    </div>
                  </div>
                </div>
                <div class="col-lg-6">
                  <div class="form-group">
                    Do you have professionally service licensed?
                    <select
                      class="form-select"
                      formControlName="is_licensed"
                      required
                      [ngClass]="{
                        'is-invalid':
                          firstFormGroup
                            .get('is_licensed')
                            .hasError('required') &&
                          firstFormGroup.get('is_licensed').touched
                      }"
                      required
                    >
                      <option *ngFor="let item of yesNo" value="{{ item }}">
                        {{ item }}
                      </option>
                    </select>
                    <div
                      class="invalid-feedback"
                      *ngIf="
                        firstFormGroup
                          .get('is_licensed')
                          .hasError('required') &&
                        firstFormGroup.get('is_licensed').touched
                      "
                    >
                      Please select.
                    </div>
                  </div>
                </div>
                <div class="col-lg-6">
                  <div class="form-group">
                    Are you bonded?
                    <select
                      class="form-select"
                      formControlName="is_bonded"
                      required
                      [ngClass]="{
                        'is-invalid':
                          firstFormGroup
                            .get('is_bonded')
                            .hasError('required') &&
                          firstFormGroup.get('is_bonded').touched
                      }"
                      required
                    >
                      <option *ngFor="let item of yesNo" value="{{ item }}">
                        {{ item }}
                      </option>
                    </select>
                    <div
                      class="invalid-feedback"
                      *ngIf="
                        firstFormGroup.get('is_bonded').hasError('required') &&
                        firstFormGroup.get('is_bonded').touched
                      "
                    >
                      Please select.
                    </div>
                  </div>
                </div>
                <div class="col-lg-6">
                  <div class="form-group">
                    Are you authorized to work in the U.S?
                    <select
                      class="form-select"
                      formControlName="is_us_work_authorized"
                      required
                      [ngClass]="{
                        'is-invalid':
                          firstFormGroup
                            .get('is_us_work_authorized')
                            .hasError('required') &&
                          firstFormGroup.get('is_us_work_authorized').touched
                      }"
                      required
                    >
                      <option *ngFor="let item of yesNo" value="{{ item }}">
                        {{ item }}
                      </option>
                    </select>
                    <div
                      class="invalid-feedback"
                      *ngIf="
                        firstFormGroup
                          .get('is_us_work_authorized')
                          .hasError('required') &&
                        firstFormGroup.get('is_us_work_authorized').touched
                      "
                    >
                      Please select.
                    </div>
                  </div>
                </div>
                <div class="col-lg-6">
                  <div class="form-group">
                    Have you ever been convicted of a felony?
                    <select
                      class="form-select"
                      formControlName="is_felony"
                      required
                      [ngClass]="{
                        'is-invalid':
                          firstFormGroup
                            .get('is_felony')
                            .hasError('required') &&
                          firstFormGroup.get('is_felony').touched
                      }"
                      required
                    >
                      <option *ngFor="let item of yesNo" value="{{ item }}">
                        {{ item }}
                      </option>
                    </select>
                    <div
                      class="invalid-feedback"
                      *ngIf="
                        firstFormGroup.get('is_felony').hasError('required') &&
                        firstFormGroup.get('is_felony').touched
                      "
                    >
                      Please select.
                    </div>
                  </div>
                </div>
                <div class="col-lg-6">
                  <div class="form-group">
                    Have you ever been convicted of a DUI and/or reckless
                    driving?
                    <select
                      class="form-select"
                      formControlName="is_dui"
                      required
                      [ngClass]="{
                        'is-invalid':
                          firstFormGroup.get('is_dui').hasError('required') &&
                          firstFormGroup.get('is_dui').touched
                      }"
                      required
                    >
                      <option *ngFor="let item of yesNo" value="{{ item }}">
                        {{ item }}
                      </option>
                    </select>
                    <div
                      class="invalid-feedback"
                      *ngIf="
                        firstFormGroup.get('is_dui').hasError('required') &&
                        firstFormGroup.get('is_dui').touched
                      "
                    >
                      Please select.
                    </div>
                  </div>
                </div>
                <div class="col-lg-6">
                  <div class="form-group">
                    Visiting Charges
                    <input
                      type="number"
                      class="form-control"
                      [ngClass]="{
                        'is-invalid':
                          firstFormGroup
                            .get('visiting_charges')
                            .hasError('required') &&
                          firstFormGroup.get('visiting_charges').touched
                      }"
                      formControlName="visiting_charges"
                      required
                    />
                    <div
                      class="invalid-feedback"
                      *ngIf="
                        firstFormGroup
                          .get('visiting_charges')
                          .hasError('required') &&
                        firstFormGroup.get('visiting_charges').touched
                      "
                    >
                      Please provide visiting charges info.
                    </div>
                  </div>
                </div>
                <div class="col-lg-12">
                  <div class="form-group">
                    About
                    <input
                      type="text"
                      class="form-control"
                      [ngClass]="{
                        'is-invalid':
                          firstFormGroup.get('about').hasError('required') &&
                          firstFormGroup.get('about').touched
                      }"
                      formControlName="about"
                      required
                    />
                    <div
                      class="invalid-feedback"
                      *ngIf="
                        firstFormGroup.get('about').hasError('required') &&
                        firstFormGroup.get('about').touched
                      "
                    >
                      Please provide about info.
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-lg-6">
                  <div class="form-group">
                    Upload Driver's License
                    <input
                      type="file"
                      class="form-control"
                      aria-label="file example"
                      required=""
                      (change)="uploadFile($event, 'license')"
                    />
                  </div>
                </div>
                <div class="col-lg-6">
                  <div class="form-group">
                    Upload Car Insurance
                    <input
                      type="file"
                      class="form-control"
                      aria-label="file example"
                      required=""
                      (change)="uploadFile($event, 'insurance')"
                    />
                  </div>
                </div>
                <div class="col-lg-6">
                  <div class="form-group">
                    Upload Profile Picture
                    <input
                      type="file"
                      class="form-control"
                      aria-label="file example"
                      required=""
                      (change)="uploadFile($event, 'avatar')"
                    />
                  </div>
                </div>
              </div>
              <br />
              <div>
                <button
                  type="submit"
                  class="btn btn-primary"
                  style="float: right"
                  (click)="register()"
                  [disabled]="isSavingInProgress || !firstFormGroup.valid"
                >
                  Submit
                  <i
                    class="fa fa-spinner fa-spin"
                    *ngIf="isSavingInProgress"
                  ></i>
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
